# Insurance Bill Machine-Learning Forecast Webapp

## Objective

This web-app uses a machine-learning model to predict the medical cost bill by health insurance according
to the following features:

- age: age of primary beneficiary
- sex: insurance contractor gender: female, male
- bmi: Body mass index, providing an understanding of body, weights that are relatively high or low relative to height,
objective index of body weight (kg / m ^ 2) using the ratio of height to weight, ideally 18.5 to 24.9
- children: Number of children covered by health insurance / Number of dependents
- smoker: Smoking (yes/no)
- region: the beneficiary's residential area in the US, northeast, southeast, southwest, northwest.
The following form requires you to introduce the previous data to get a prediction. The AI that models this data is [linear regression](http://www.stat.yale.edu/Courses/1997-98/101/linreg.htm)

The AI was trained with this [dataset](https://www.kaggle.com/mirichoi0218/insurance#insurance.csv) downloaded from Kaggle.

## Content
- *dataset*: Contains the .csv file for training the linear regression model.
- *pipeline*: It contains the Jupyter Notebook that allows to generate the trained model.
- *trained_models*: Trained model generated by pipeline.

### Flask contents
Flask is an useful back-end to deploy ML models. This project includes:
- *App.py*: Contains back-end code and routing for rendering templates and ML calling.
- *static*: This folder includes all fonts, PHP, CSS, JS and images that belongs to the Bootstrap template to load the webpage properly.
  This does not modifies the back-end.
- *templates*: HTML templates. 

### Deployment in Heroku
- *Procfile*: This file is needed for deploying the webapp. The name of the application file is ‘app.py’ and the name of the application is also ‘app’. (hence app:app)

``` web: gunicorn app:app ```

### Requirements
```
certifi==2020.6.20
Flask==2.0.1
gunicorn==20.1.0
itsdangerous==2.0.1
Jinja2==3.0.1
pycaret==2.3.1
```

## Run
1- Clone this repository
2- Run a terminal
``` 
pip install -r requirements.txt #Install requirements
flask run #Deploys development server
```

